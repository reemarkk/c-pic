{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "prepare:windows",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "if",
        "not",
        "exist",
        "bin\\windows",
        "mkdir",
        "bin\\windows"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "prepare:linux",
      "type": "shell",
      "command": "cmd",
      "args": [
        "/c",
        "if",
        "not",
        "exist",
        "bin\\linux",
        "mkdir",
        "bin\\linux"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "i386-pc-windows-msvc",
      "dependsOn": "prepare:windows",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        // "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,/Entry:main,/SUBSYSTEM:CONSOLE",
        "-target",
        "i386-pc-windows-msvc",
        "-o",
        "bin/windows/windows_i386.exe",
        "-DARCHITECTURE_I386",
        "-DPLATFORM_WINDOWS",
        "-DPLATFORM_WINDOWS_I386",
        "-Os",
        "src/*.c"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "x86_64-pc-windows-msvc",
      "dependsOn": "prepare:windows",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,/Entry:main,/SUBSYSTEM:CONSOLE",
        "-target",
        "x86_64-pc-windows-msvc",
        "-o",
        "bin/windows/windows_x86_64.exe",
        "-DARCHITECTURE_X86_64",
        "-DPLATFORM_WINDOWS",
        "-DPLATFORM_WINDOWS_X86_64",
        "-Os",
        "src/*.c"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "armv7a-pc-windows-msvc",
      "dependsOn": "prepare:windows",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,/Entry:main,/SUBSYSTEM:CONSOLE",
        "-target",
        "armv7a-pc-windows-msvc",
        "-o",
        "bin/windows/windows_arm7a.exe",
        "-DARCHITECTURE_ARM7A",
        "-DPLATFORM_WINDOWS",
        "-DPLATFORM_WINDOWS_ARM7A",
        "-Os",
        "src/*.c"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "aarch64-pc-windows-msvc",
      "dependsOn": "prepare:windows",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,/Entry:main,/SUBSYSTEM:CONSOLE",
        "-target",
        "aarch64-pc-windows-msvc",
        "-o",
        "bin/windows/windows_aarch64.exe",
        "-DARCHITECTURE_AARCH64",
        "-DPLATFORM_WINDOWS",
        "-DPLATFORM_WINDOWS_AARCH64",
        "-Os",
        "src/*.c"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "i386-unknown-linux-gnu-win",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        // "-Werror",
        // "-static",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,-T,linker.script,-e,main,--gc-sections,--strip-all",
        "-target",
        "i386-unknown-linux-gnu",
        "-o",
        "bin/windows/windows_i386.elf",
        "-DARCHITECTURE_I386",
        "-DPLATFORM_WINDOWS",
        "-DPLATFORM_WINDOWS_I386",
        "-Os",
        "-fshort-wchar",
        "src/*.c"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "x86_64-unknown-linux-gnu-win",
      "dependsOn": "prepare:windows",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,-T,linker.script,-e,main,--gc-sections",
        "-target",
        "x86_64-unknown-linux-gnu",
        "-o",
        "bin/windows/windows_x86_64.elf",
        "-DARCHITECTURE_X86_64",
        "-DPLATFORM_WINDOWS",
        "-DPLATFORM_WINDOWS_X86_64",
        "-Os",
        "-fshort-wchar",
        "src/*.c",
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "thumbv7a-none-linux-gnueabi-win",
      "dependsOn": "prepare:windows",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,-T,linker.script,-e,main,--gc-sections",
        "-target",
        "thumbv7a-none-linux-gnueabi",
        "-o",
        "bin/windows/windows_arm32.elf",
        "-DARCHITECTURE_ARM7A",
        "-DPLATFORM_WINDOWS",
        "-DPLATFORM_WINDOWS_ARM7A",
        "-Os",
        "-fshort-wchar",
        "src/*.c",
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "aarch64-unknown-linux-gnu-win",
      "dependsOn": "prepare:windows",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,-T,linker.script,-e,main,--gc-sections",
        "-target",
        "aarch64-unknown-linux-gnu",
        "-o",
        "bin/windows/windows_aarch64.elf",
        "-DARCHITECTURE_AARCH64",
        "-DPLATFORM_WINDOWS",
        "-DPLATFORM_WINDOWS_AARCH64",
        "-Os",
        "-fshort-wchar",
        "src/*.c",
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "i386-unknown-linux-gnu",
      "dependsOn": "prepare:linux",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,-T,linker.script,-e,main,--gc-sections",
        "-target",
        "i386-unknown-linux-gnu",
        "-o",
        "bin/linux/linux_i386.elf",
        "-DARCHITECTURE_I386",
        "-DPLATFORM_LINUX",
        "-DPLATFORM_LINUX_I386",
        "-Os",
        "src/*.c",
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "x86_64-unknown-linux-gnu",
      "dependsOn": "prepare:linux",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,-T,linker.script,-e,main,--gc-sections",
        "-target",
        "x86_64-unknown-linux-gnu",
        "-o",
        "bin/linux/linux_x86_64.elf",
        "-DARCHITECTURE_X86_64",
        "-DPLATFORM_LINUX",
        "-DPLATFORM_LINUX_X86_64",
        "-Os",
        "src/*.c",
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "aarch64-unknown-linux-gnu",
      "dependsOn": "prepare:linux",
      "type": "process",
      "command": "clang",
      "args": [
        "-Wall",
        "-Wextra",
        "-Werror",
        "-Qn",
        "-fuse-ld=lld",
        "-nostdinc",
        "-nostartfiles",
        "-nodefaultlibs",
        "-nostdlib",
        "-fno-ident",
        "-mno-stack-arg-probe",
        "-fno-stack-check",
        "-ffunction-sections",
        "-fdata-sections",
        "-fno-asynchronous-unwind-tables",
        "-fno-unwind-tables",
        "-fno-builtin",
        "-Wl,-T,linker.script,-e,main,--gc-sections",
        "-target",
        "aarch64-unknown-linux-gnu",
        "-o",
        "bin/linux/linux_aarch64.elf",
        "-DARCHITECTURE_AARCH64",
        "-DPLATFORM_LINUX",
        "-DPLATFORM_LINUX_AARCH64",
        "-Os",
        "src/*.c",
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": [
        "$gcc"
      ]
    },
    {
      "label": "extract:windows:i386",
      "dependsOn": "i386-unknown-linux-gnu-win",
      "type": "process",
      "command": "llvm-objcopy",
      "args": [
        "--dump-section=.text=bin/windows/windows_i386.bin",
        "bin/windows/windows_i386.elf"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "extract:windows:x86_64",
      "dependsOn": "x86_64-unknown-linux-gnu-win",
      "type": "process",
      "command": "llvm-objcopy",
      "args": [
        "--dump-section=.text=bin/windows/windows_x86_64.bin",
        "bin/windows/windows_x86_64.elf"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "extract:windows:arm32",
      "dependsOn": "thumbv7a-none-linux-gnueabi-win",
      "type": "process",
      "command": "llvm-objcopy",
      "args": [
        "--dump-section=.text=bin/windows/windows_arm32.bin",
        "bin/windows/windows_arm32.elf"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "extract:windows:aarch64",
      "dependsOn": "aarch64-unknown-linux-gnu-win",
      "type": "process",
      "command": "llvm-objcopy",
      "args": [
        "--dump-section=.text=bin/windows/windows_aarch64.bin",
        "bin/windows/windows_aarch64.elf"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "extract:linux:i386",
      "dependsOn": "i386-unknown-linux-gnu",
      "type": "process",
      "command": "llvm-objcopy",
      "args": [
        "--dump-section=.text=bin/linux/linux_i386.bin",
        "bin/linux/linux_i386.elf"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "extract:linux:x86_64",
      "dependsOn": "x86_64-unknown-linux-gnu",
      "type": "process",
      "command": "llvm-objcopy",
      "args": [
        "--dump-section=.text=bin/linux/linux_x86_64.bin",
        "bin/linux/linux_x86_64.elf"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "extract:linux:aarch64",
      "dependsOn": "aarch64-unknown-linux-gnu",
      "type": "process",
      "command": "llvm-objcopy",
      "args": [
        "--dump-section=.text=bin/linux/linux_aarch64.bin",
        "bin/linux/linux_aarch64.elf"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "dump:windows:i386",
      "dependsOn": "extract:windows:i386",
      "command": "cmd.exe",
      "args": [
        "/c",
        "llvm-objdump",
        "-d",
        "-s",
        "-j",
        ".text",
        "bin/windows/windows_i386.elf",
        ">",
        "bin/windows/windows_i386.txt"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "dump:windows:x86_64",
      "dependsOn": "extract:windows:x86_64",
      "command": "cmd.exe",
      "args": [
        "/c",
        "llvm-objdump",
        "-d",
        "-s",
        "-j",
        ".text",
        "bin/windows/windows_x86_64.elf",
        ">",
        "bin/windows/windows_x86_64.txt"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "dump:windows:arm32",
      "dependsOn": "extract:windows:arm32",
      "command": "cmd.exe",
      "args": [
        "/c",
        "llvm-objdump",
        "-d",
        "-s",
        "-j",
        ".text",
        "bin/windows/windows_arm32.elf",
        ">",
        "bin/windows/windows_arm32.txt"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "dump:windows:aarch64",
      "dependsOn": "extract:windows:aarch64",
      "command": "cmd.exe",
      "args": [
        "/c",
        "llvm-objdump",
        "-d",
        "-s",
        "-j",
        ".text",
        "bin/windows/windows_aarch64.elf",
        ">",
        "bin/windows/windows_aarch64.txt"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "dump:linux:i386",
      "dependsOn": "extract:linux:i386",
      "command": "cmd.exe",
      "args": [
        "/c",
        "llvm-objdump",
        "-d",
        "-s",
        "-j",
        ".text",
        "bin/linux/linux_i386.elf",
        ">",
        "bin/linux/linux_i386.txt"
      ],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "problemMatcher": []
    },
    {
      "label": "Build All",
      "dependsOrder": "sequence",
      "dependsOn": [
        "dump:windows:i386",
        "dump:windows:x86_64",
        // "dump:windows:arm32",
        "dump:windows:aarch64",
        "dump:linux:i386",
        "dump:linux:x86_64",
        "dump:linux:aarch64",
      ],
      "group": {
        "kind": "build",
        "isDefault": true
      }
    }
  ]
}